# Сообщения бота MSC Shift

Документ содержит все пользовательские сообщения, кнопки и всплывающие уведомления, которые бот отправляет в ходе работы. Сообщения сгруппированы по сценариям и расположены в логическом порядке. Для каждого элемента указан идентификатор (для перекрёстных ссылок) и статус отображения:

- **остаётся** — сообщение остаётся в истории переписки, пока пользователь не удалит его вручную.
- **удаляется** — бот удаляет сообщение (обычно после завершения операции).
- **обновляется** — бот редактирует ранее отправленное сообщение, сохраняя его на месте.
- **всплывающее уведомление** — краткое уведомление Telegram (callback answer), которое исчезает автоматически.
- **клавиатура** — подпись на кнопке; отображается, пока клавиатура активна.
- **групповой чат** — сообщение отправляется в служебный групповой чат.

## 1. Регистрация (/start)

1. [REG-01] (остаётся) — «Ваш доступ заблокирован. Обратитесь к координатору для уточнения статуса.»
2. [REG-02] (остаётся) — «Не удалось проверить регистрацию. Попробуйте повторить попытку позже.»
3. [REG-03] (остаётся) — «Добро пожаловать! Вы уже зарегистрированы. Открываю панель.»
4. [REG-04] (остаётся) — «Ваш доступ отключён. Обратитесь к координатору (статус: Архив).»
5. [REG-05] (остаётся) — «Введите вашу Фамилию (только буквы).»
6. [REG-06] (остаётся) — «Некорректная фамилия: {ошибка}».
7. [REG-07] (остаётся) — «Введите ваше Имя (только буквы).»
8. [REG-08] (остаётся) — «Некорректное имя: {ошибка}».
9. [REG-09] (остаётся) — «Введите ваше Отчество (если нет — нажмите «Пропустить»).»
10. [REG-10] (остаётся) — «Некорректное отчество: {ошибка}».
11. [REG-11] (остаётся) — «Проверьте данные:
<b>{ФИО}</b>

Нажмите «Подтвердить» или «Ввести заново».» (отправляется в HTML-формате).
12. [REG-12] (остаётся) — «Пользователь с таким ФИО уже зарегистрирован. Уточните данные или обратитесь к координатору.»
13. [REG-13] (остаётся) — «Ваш доступ отключён. Обратитесь к координатору.» (при попытке сохранения).
14. [REG-14] (остаётся) — «Временная ошибка при сохранении. Попробуйте позже.»
15. [REG-15] (остаётся) — «Регистрация завершена. Статус: Активен. Открываю панель.»

### Кнопки этапа регистрации

- [REG-BTN-01] (клавиатура) — «Подтвердить».
- [REG-BTN-02] (клавиатура) — «Ввести заново».
- [REG-BTN-03] (клавиатура) — «Пропустить».
- [REG-BTN-04] (клавиатура) — «Отмена».

## 2. Главное меню

1. [MENU-01] (удаляется) — «⏳ Загружаю главное меню, подождите…» (временное сообщение прогресса).
2. [MENU-02] (остаётся) — «Не удалось открыть главное меню. Попробуйте команду /menu позже или обратитесь к координатору.»
3. [MENU-03] (остаётся) — «Здравствуйте, {ФИО}{точка при необходимости}

Смен закрыто: {количество}».
4. [MENU-04] (остаётся) — «Предыдущее действие ещё выполняется. Дождитесь завершения обработки и попробуйте снова.»
5. [MENU-05] (удаляется) — «⏳ Подготавливаю смену. Пожалуйста, подождите…» (прогресс при открытии смены).
6. [MENU-06] (остаётся) — «На сегодня все смены уже закрыты. Открывать смену можно только вручную.»
7. [MENU-07] (остаётся) — «Не удалось подготовить смену. Попробуйте снова позже или обратитесь к координатору.»

### Кнопки главного меню

- [MENU-BTN-01] (клавиатура) — «🚀 Начать оформление смены».

## 3. Меню смены

1. [SHIFT-01] (удаляется) — «⏳ Проверяю статус смены. Подождите…» (временное сообщение прогресса).
2. [SHIFT-02] (остаётся) — «Предыдущее действие ещё ыполняется. Повторите попытку через несколько секунд.»
3. [SHIFT-03] (остаётся) — «Не удалось подготовить смену. Попробуйте позже или обратитесь к координатору.»
4. [SHIFT-04] (остаётся) — «Не удалось открыть меню смены. Попробуйте позже или обратитесь к координатору.»
5. [SHIFT-05] (остаётся) — «выберите раздел для заполнения.
в каждом нужно указать данные по текущей смене.»
6. [SHIFT-06] (остаётся) — «смена уже закрыта. если нужно начать новую — вернитесь в главное меню.» (добавляется к сообщению [SHIFT-05], если смена закрыта).
7. [SHIFT-07] (остаётся) — «не удалось определить рабочую строку. попробуйте позже или обратитесь к координатору.»
8. [SHIFT-08] (остаётся) — «рабочая строка не найдена. начните смену заново через главное меню.»
9. [SHIFT-09] (остаётся) — «не удалось проверить состояние смены. попробуйте позже.»
10. [SHIFT-10] (остаётся) — «смена уже закрыта.» (используется дважды: при повторной проверке и при отсутствии изменений).
11. [SHIFT-11] (остаётся) — «не удалось проверить заполненность разделов. попробуйте позже.»
12. [SHIFT-12] (остаётся) — «не все разделы заполнены. заполните разделы и попробуйте снова.»
13. [SHIFT-13] (остаётся) — «не удалось сформировать сводку. попробуйте позже.»
14. [SHIFT-14] (остаётся) — «не удалось закрыть смену. попробуйте позже или обратитесь к координатору.»
15. [SHIFT-15] (остаётся) — «смена закрыта. отчёт отправлен в групповой чат.
возвращаю в главное меню…»
16. [SHIFT-16] (остаётся) — «смена закрыта.
возвращаю в главное меню…»

### Кнопки меню смены и статусы

- [SHIFT-BTN-01] (клавиатура) — «🧾 Расходы — ✅ готово» или «🧾 Расходы — ✍️ заполнить» (в зависимости от статуса раздела).
- [SHIFT-BTN-02] (клавиатура) — «📦 Материалы — ✅ готово» или «📦 Материалы — ✍️ заполнить».
- [SHIFT-BTN-03] (клавиатура) — «👥 Бригада — ✅ готово» или «👥 Бригада — ✍️ заполнить».
- [SHIFT-BTN-04] (клавиатура) — «✅ Закончить смену» (показывается, когда все разделы заполнены и смена открыта).
- [SHIFT-BTN-05] (клавиатура) — «⬅ Назад в главное меню».

## 4. Раздел «Расходы»

1. [EXP-01] (остаётся) — «выберите судно из списка ниже или начните ввод названия.
если нужного судна нет, бот предложит добавить его в таблицу.»
2. [EXP-02] (остаётся) — «введите название судна. если его нет в списке, бот предложит добавить новое.»
3. [EXP-03] (остаётся) — «нашлось несколько вариантов, выберите:»
4. [EXP-04] (остаётся) — «название выглядит некорректно. используйте буквы/цифры/дефис/пробел.»
5. [EXP-05] (остаётся) — «повторите ввод названия судна.»
6. [EXP-06] (остаётся) — «сколько трюмов на судне?»
7. [EXP-07] (остаётся) — «выберите число от 1 до 7 на клавиатуре ниже.»
8. [EXP-08] (остаётся) — «укажите сумму затрат на водителя.»
9. [EXP-09] (остаётся) — «укажите сумму вашего вознаграждения (бригадир).»
10. [EXP-10] (остаётся) — «укажите сумму оплаты рабочих.»
11. [EXP-11] (остаётся) — «укажите сумму вспомогательных расходов.»
12. [EXP-12] (остаётся) — «укажите сумму расходов на питание.»
13. [EXP-13] (остаётся) — «укажите сумму расходов на такси.»
14. [EXP-14] (остаётся) — «укажите сумму прочих расходов.»
15. [EXP-15] (остаётся) — «только цифры (рубли) или «Пропустить».»
16. [EXP-16] (остаётся) — «проверьте введённые данные:
• судно: {значение}
• трюмов: {значение}
• транспорт: {значение}
• бригадир: {значение}
• рабочие: {значение}
• вспомогательные: {значение}
• питание: {значение}
• такси: {значение}
• прочие: {значение}
— всего расходов: {итог}»
17. [EXP-17] (остаётся) — «раздел «расходы смены» сохранён ✅
возвращаю в главное меню…»

### Кнопки раздела «Расходы»

- [EXP-BTN-01] (клавиатура) — «⬅ Назад».
- [EXP-BTN-02] (клавиатура) — «🏠 В меню».
- [EXP-BTN-03] (клавиатура) — «Пропустить».
- [EXP-BTN-04] (клавиатура) — «✅ Подтвердить» (в диалоге подтверждения).
- [EXP-BTN-05] (клавиатура) — «✏️ Изменить».
- [EXP-BTN-06] (клавиатура) — числовые кнопки «1» … «7» (выбор числа трюмов).

## 5. Раздел «Материалы»

1. [MAT-01] (остаётся) — «Не удалось подготовить хранилище материалов. Проверьте настройки токена и попробуйте позже или обратитесь к администратору.»
2. [MAT-02] (остаётся) — «укажите расход рулонов ПВД (в метрах).»
3. [MAT-03] (остаётся) — «только цифры или «Пропустить».»
4. [MAT-04] (остаётся) — «укажите расход трубок ПВХ (в штуках).»
5. [MAT-05] (остаётся) — «укажите расход клейкой ленты (в штуках).»
6. [MAT-06] (остаётся) — «📸 Прикрепите фото крепления. Можно загрузить несколько файлов подряд.
После завершения нажмите «✅ Подтвердить».»
7. [MAT-07] (остаётся) — «фото добавлено ({количество} шт). можете прислать ещё или «✅ Подтвердить».»
8. [MAT-08] (остаётся) — «последнее фото удалено. осталось: {количество}.»
9. [MAT-09] (остаётся) — «список фото пуст.»
10. [MAT-10] (остаётся) — «Добавьте хотя бы одно фото перед подтверждением.»
11. [MAT-11] (остаётся) — «Не удалось подготовить хранилище материалов. Проверьте переменные окружения и повторите попытку.»
12. [MAT-12] (остаётся) — «Токен Яндекс-Диска недействителен или у приложения нет прав. Проверьте переменные окружения и токен в .env.»
13. [MAT-13] (остаётся) — «Не удалось загрузить материалы в хранилище. Попробуйте позже или обратитесь к администратору.»
14. [MAT-14] (остаётся) — «📎 фото успешно загружены. возвращаю в главное меню…»
15. [MAT-15] (остаётся) — «пришлите фото или используйте кнопки ниже.»

### Кнопки раздела «Материалы»

- [MAT-BTN-01] (клавиатура) — «⬅ Назад».
- [MAT-BTN-02] (клавиатура) — «🏠 В меню».
- [MAT-BTN-03] (клавиатура) — «Пропустить».
- [MAT-BTN-04] (клавиатура) — «✅ Подтвердить» (при загрузке фото).
- [MAT-BTN-05] (клавиатура) — «🗑 Удалить последнее».

## 6. Раздел «Бригада»

1. [CREW-01] (остаётся) — «Не удалось открыть раздел «Бригада». Попробуйте позже или обратитесь к координатору.»
2. [CREW-02] (остаётся) — «выберите водителя из списка или добавьте нового.
текущий выбор: {имя или «не выбран»}.
рабочих выбрано: {количество}.
[страница {номер} из {всего}.]
[список пуст — добавьте водителя.]» (строки в квадратных скобках добавляются при необходимости).
3. [CREW-03] (остаётся) — «сначала выберите водителя.»
4. [CREW-04] (остаётся) — «водитель: {имя}
рабочие выбраны: {количество}.
выберите рабочих из списка или добавьте новых.
[страница {номер} из {всего}.]
[список пуст — добавьте рабочего.]»
5. [CREW-05] (обновляется) — «рабочие пока не выбраны.» (сообщение со списком выбранных рабочих).
6. [CREW-06] (обновляется) — «выбранные рабочие:
1) {имя}
…» (список редактируется по мере выбора; сопровождается inline-кнопками «✖ {имя}»).
7. [CREW-07] (остаётся) — «сначала выберите водителя из списка.»
8. [CREW-08] (остаётся) — «список пуст — добавьте водителя.»
9. [CREW-09] (остаётся) — «используйте кнопки списка или добавьте нового водителя.»
10. [CREW-10] (остаётся) — «водитель «{имя}» выбран.»
11. [CREW-11] (остаётся) — «список рабочих очищен.»
12. [CREW-12] (остаётся) — «нужно выбрать хотя бы одного рабочего.»
13. [CREW-13] (остаётся) — «используйте кнопки списка или добавьте нового рабочего.»
14. [CREW-14] (остаётся) — «этот рабочий уже выбран.»
15. [CREW-15] (остаётся) — «рабочий «{имя}» добавлен в список.»
16. [CREW-16] (всплывающее уведомление) — «не найдено» (при ошибке удаления рабочего из списка).
17. [CREW-17] (всплывающее уведомление) — «Удалено: {имя}» (подтверждение удаления рабочего по inline-кнопке).
18. [CREW-18] (остаётся) — «введите фамилию водителя.»
19. [CREW-19] (остаётся) — «в этом поле допустимы только буквы, пробел и дефис» (используется валидацией во всех шагах ввода ФИО).
20. [CREW-20] (остаётся) — «введите имя водителя.»
21. [CREW-21] (остаётся) — «введите отчество водителя (можно «Пропустить»).»
22. [CREW-22] (остаётся) — «данные водителя потеряны. начните заново.»
23. [CREW-23] (остаётся) — «эта запись находится в архиве.»
24. [CREW-24] (остаётся) — «такое ФИО уже есть в списке.»
25. [CREW-25] (остаётся) — «Не удалось проверить справочник водителей. Попробуйте позже или обратитесь к координатору.»
26. [CREW-26] (остаётся) — «Не удалось добавить водителя. Попробуйте позже или обратитесь к координатору.»
27. [CREW-27] (остаётся) — «водитель «{имя}» добавлен и выбран.»
28. [CREW-28] (остаётся) — «введите фамилию рабочего.»
29. [CREW-29] (остаётся) — «введите имя рабочего.»
30. [CREW-30] (остаётся) — «введите отчество рабочего (можно «Пропустить»).»
31. [CREW-31] (остаётся) — «данные рабочего потеряны. начните заново.»
32. [CREW-32] (остаётся) — «Не удалось проверить справочник рабочих. Попробуйте позже или обратитесь к координатору.»
33. [CREW-33] (остаётся) — «Не удалось добавить рабочего. Попробуйте позже или обратитесь к координатору.»
34. [CREW-34] (остаётся) — «рабочий «{имя}» добавлен и выбран.»
35. [CREW-35] (остаётся) — «сначала выберите водителя и рабочих.»
36. [CREW-36] (остаётся) — «проверьте состав бригады:
водитель: {имя}
рабочие:
- {имя}
…
сохранить?»
37. [CREW-37] (остаётся) — «используйте кнопки для подтверждения или возврата к редактированию.»
38. [CREW-38] (остаётся) — «недостаточно данных для сохранения. заполните раздел ещё раз.»
39. [CREW-39] (остаётся) — «Не удалось сохранить состав бригады. Попробуйте позже или обратитесь к координатору.»
40. [CREW-40] (остаётся) — «состав бригады сохранён.»

### Кнопки раздела «Бригада»

- [CREW-BTN-01] (клавиатура) — «⬅ назад».
- [CREW-BTN-02] (клавиатура) — «🏠 в меню».
- [CREW-BTN-03] (клавиатура) — «➕ добавить водителя».
- [CREW-BTN-04] (клавиатура) — «➕ добавить рабочего».
- [CREW-BTN-05] (клавиатура) — «‹ предыдущая».
- [CREW-BTN-06] (клавиатура) — «следующая ›».
- [CREW-BTN-07] (клавиатура) — «✅ подтвердить» (подтверждение списка рабочих или итоговой бригады).
- [CREW-BTN-08] (клавиатура) — «✏️ изменить».
- [CREW-BTN-09] (клавиатура) — «🧹 очистить список рабочих».
- [CREW-BTN-10] (клавиатура) — «Пропустить» (при вводе отчества).
- [CREW-BTN-11] (клавиатура) — «➡ далее».
- [CREW-BTN-12] (inline) — «✖ {имя}» (кнопка удаления выбранного рабочего).

## 7. Групповой отчёт о закрытии смены

1. [GRP-01] (групповой чат) — «✅ Смена закрыта».
2. [GRP-02] (групповой чат) — пустая строка (разделитель).
3. [GRP-03] (групповой чат) — «👷‍♂️ Бригадир: {ФИО}».
4. [GRP-04] (групповой чат) — «📅 Дата: {дата}».
5. [GRP-05] (групповой чат) — «🛳 Судно: {название}».
6. [GRP-06] (групповой чат) — «💰 Всего расходов: {сумма} ₽».
7. [GRP-07] (групповой чат) — «📷 Фото: {ссылка или «—»}».
8. [GRP-08] (групповой чат) — пустая строка (разделитель).
9. [GRP-09] (групповой чат) — «Спасибо за работу!»

